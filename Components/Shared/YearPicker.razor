@*
 * This component is used to display a dropdown box with all the available years.
 *@

@inject NavigationManager NavManager

<div Class="container">
    <div Class="season-text">
        Season
    </div>
    <div Class="picker">
        <button Class="pick-button" @onclick="ShowHide">@GetYear() &#x25BC</button>
        <div Class="dropdown" Style="display: @display">
            <button @onclick="@(e => NavigateTo("2024"))">2024</button>
            <button @onclick="@(e => NavigateTo("2023"))">2023</button>
            <button @onclick="@(e => NavigateTo("2022"))">2022</button>
            <button @onclick="@(e => NavigateTo("2021"))">2021</button>
            <button @onclick="@(e => NavigateTo("2020"))">2020</button>
            <button @onclick="@(e => NavigateTo("2019"))">2019</button>
            <button @onclick="@(e => NavigateTo("2018"))">2018</button>
            <button @onclick="@(e => NavigateTo("2017"))">2017</button>
            <button @onclick="@(e => NavigateTo("2016"))">2016</button>
            <button @onclick="@(e => NavigateTo("2015"))">2015</button>
        </div>
    </div>
</div>

<div Class="bottom-spacer" />

@code {
    [Parameter, EditorRequired]
    public string SeriesIdentifier { get; set; } = default!;

    [Parameter, EditorRequired]
    public int Year { get; set; }

    private string display = "none";

    // Performs the actual navigation when one of the dropdown items is clicked.
    private void NavigateTo(string year)
    {
        NavManager.NavigateTo("/" + SeriesIdentifier + "/" + year);
    }

    // Helper funcion to show and hide the dropdown. Returns the display style for the dropdown box.
    private void ShowHide() {
        if (display == "none") {
            display = "block";
        } else {
            display = "none";
        }
    }

    private string GetYear() {
        return Year.ToString();
    }
}